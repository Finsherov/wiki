---
title: Настройка TCPShield
description: Инструкция по настройке TCPShield - бесплатной защиты от DDoS.
---

На нодах хостинга всегда размещается довольно большое количество серверов. Это означает, что при сильной атаке на один сервер, затронуты будут и остальные. Чтобы защитить себя и остальных клиентов хостинга, мы рекомендуем настроить защиту от DDoS атак.

[TCPShield](https://tcpshield.com) предоставляет несложное и бесплатное для небольших серверов решение, позволяющее защититься от DDoS атак. В этой статье мы рассмотрим, как клиенты хостинга могут воспользоваться этим сервисом.

## Регистрация и создание проекта
В первую очередь необходимо зарегистрироваться на сайте [TCPShield](https://tcpshield.com). Потребуется действующий адрес электронной почты.

После регистрации следует создать проект. Для этого в ["Home > Overview"](https://panel.tcpshield.com/dashboard/overview) нажмите "Add network". Во всплывающем окне введите название сервера и нажмите "Add Network". Появится вкладка с Вашим сервером, перейдите в неё.

## Добавление сервера
Далее необходимо добавить сервер. Перейдите во вкладку ["Backends"](https://panel.tcpshield.com/networks/backends) и нажмите "Add Set". Укажите любое название, например, `Production`. В список адресов добавьте адрес сервера на хостинге. Если у Вас есть отдельный сервер с **BungeeCord**, через который подключаются все игроки, укажите **именно его адрес**, не добавляя остальные сервера. Когда всё указано, нажмите "Save".

Далее необходимо указать, по какому адресу будут подключаться игроки. Надо заметить, что после настройки TCPShield подключиться к серверу можно будет только **по домену**, "числовой" адрес станет недоступен. Перейдите во вкладку ["Domains"](https://panel.tcpshield.com/networks/manage), здесь будет содержимое CNAME записи и инструкция о том, как эту запись создать. Если у Вас есть свой домен, следуйте ей.

![Domains](https://img.share.superhub.xyz/devo5g.png)

Те, у кого нет собственного домена, могут воспользоваться доменом хостинга - `mineserver.xyz`. Для этого перейдите во вкладку ["Сервера"](https://superhub.host/account/servers) личного кабинета на сайте хостинга и зайдите в "Управление сервером" для сервера, для которого настраивается TCPShield. В разделе "Домен" выберите желаемый домен, установите флажок "Использовать TCPShield" и укажите содержимое CNAME записи с сайта TCPShield.

![Домены](https://img.share.superhub.xyz/rvdnk0.png)

Теперь домен нужно добавить в настройках TCPShield. Для этого в нижней части страницы "Domains" нажмите "Add Domain" и укажите тот же домен, который указан в настройках сервера на сайте хостинга. В нашем случае это `test-server.mineserver.xyz`. Если всё сделано правильно, будет отображено "Domain verified". Также необходимо выбрать ранее созданный "Backend Set", в нашем случае это `Production`.

![Добавление домена](https://img.share.superhub.xyz/iks1qg.png)

Если отображается "Unverified", проверьте, что указан тот же домен, что и в "Управлении сервером" на хостинге, а содержимое CNAME записи указано верно.

## Реальные адреса игроков
TCPShield работает как прокси, фильтрующий подключения к серверу. Это значит, что по умолчанию ваш сервер не будет знать реальные адреса людей, подключающихся через TCPShield. Чтобы узнавать реальные адреса, необходимо установить плагин [RealIP](https://github.com/TCPShield/RealIP/releases) от разработчиков TCPShield. Он доступен для BungeeCord, Spigot и Velocity.
